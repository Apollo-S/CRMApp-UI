<div class="ui-g-12">
    <form [formGroup]="agreementForm" (ngSubmit)="onSubmit()">
        <div class="ui-g-10">
            <p-card>
                <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-3">
                            <b>Номер договора:*</b>
                        </div>
                        <div class="ui-grid-col-6">
                            <input
                                    pInputText
                                    type="text"
                                    formControlName="number"
                            >
                        </div>
                        <div class="ui-grid-col-3">
                            <div class="ui-grid-col-3">
                                <p-message
                                        severity="error"
                                        text="Введите название"
                                        *ngIf="agreementForm.controls['number'].invalid&&agreementForm.controls['number'].dirty"
                                ></p-message>
                            </div>
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-3">
                            <b>Клиент:*</b>
                        </div>
                        <div class="ui-grid-col-6">
                            <p-dropdown
                                    [options]="clients"
                                    formControlName="client"
                                    optionLabel="title"
                                    [autoWidth]="false"
                                    placeholder="Выберите клиента..."
                            ></p-dropdown>
                        </div>
                        <div class="ui-grid-col-3">
                            <p-message
                                    severity="error"
                                    text="Необходимо выбрать клиента!"
                                    *ngIf="agreementForm.controls['client'].value == null"
                            ></p-message>
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-3">
                            <b>Дата:*</b>
                        </div>
                        <div class="ui-grid-col-3">
                            <p-calendar
                                    formControlName="dateStart"
                                    [monthNavigator]="true"
                                    [yearNavigator]="true"
                                    [yearRange]="years"
                                    [locale]="ru"
                                    [showButtonBar]="true"
                                    [showIcon]="true"
                                    [dateFormat]="'dd.mm.yy'"
                            ></p-calendar>
                        </div>
                        <div class="ui-grid-col-3"></div>
                        <div class="ui-grid-col-3">
                            <p-message
                                    severity="error"
                                    text="Дата договора не может быть пустой"
                                    *ngIf="agreementForm.controls['dateStart'].invalid"
                            ></p-message>
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-3">
                            <b>Примечание:</b>
                        </div>
                        <div class="ui-grid-col-6">
                            <textarea
                                    pInputTextarea
                                    [rows]="3"
                                    formControlName="comment"
                            ></textarea>
                        </div>
                    </div>
                </div>
            </p-card>
        </div>
        <div class="ui-g-2">
            <button
                    pButton
                    type="button"
                    label="Назад"
                    class="ui-button-info btn-block"
                    icon="fa fa-arrow-circle-o-left"
                    (click)="goBackToAgreement(0)"
            ></button>
            <button
                    pButton
                    type="submit"
                    label="Сохранить"
                    class="ui-button-success btn-block"
                    icon="fa fa-check-square-o"
            ></button>
        </div>
    </form>
</div>

<p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425" #cd>
    <p-footer>
        <button
                type="button"
                pButton
                icon="fa fa-check"
                class="ui-button-primary"
                label="Ок"
                (click)="cd.accept()"
        ></button>
        <button
                type="button"
                pButton
                icon="fa fa-close"
                class="ui-button-secondary"
                label="Отмена"
                (click)="cd.reject()"
        ></button>
    </p-footer>
</p-confirmDialog>
